local ScriptHub = Instance.new("ScreenGui")
ScriptHub.Name = "UniversalScriptHub"
ScriptHub.Parent = game:GetService("CoreGui") or game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")

-- Main container
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 650, 0, 450)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScriptHub

-- Modern gradient background
local Gradient = Instance.new("UIGradient")
Gradient.Rotation = 120
Gradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 25, 35)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(15, 15, 25))
})
Gradient.Parent = MainFrame

-- Rounded corners
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Subtle shadow effect
local DropShadow = Instance.new("ImageLabel")
DropShadow.Name = "DropShadow"
DropShadow.Size = UDim2.new(1, 12, 1, 12)
DropShadow.Position = UDim2.new(0, -6, 0, -6)
DropShadow.BackgroundTransparency = 1
DropShadow.Image = "rbxassetid://1316045217"
DropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
DropShadow.ImageTransparency = 0.8
DropShadow.ScaleType = Enum.ScaleType.Slice
DropShadow.SliceCenter = Rect.new(10, 10, 118, 118)
DropShadow.Parent = MainFrame

-- Top navigation bar
local TopBar = Instance.new("Frame")
TopBar.Name = "TopBar"
TopBar.Size = UDim2.new(1, 0, 0, 45)
TopBar.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
TopBar.BorderSizePixel = 0
TopBar.ZIndex = 2
TopBar.Parent = MainFrame

-- Top bar corner rounding
local TopBarCorner = Instance.new("UICorner")
TopBarCorner.CornerRadius = UDim.new(0, 12)
TopBarCorner.Parent = TopBar

-- Title with icon
local TitleContainer = Instance.new("Frame")
TitleContainer.Name = "TitleContainer"
TitleContainer.Size = UDim2.new(0, 200, 1, 0)
TitleContainer.Position = UDim2.new(0, 15, 0, 0)
TitleContainer.BackgroundTransparency = 1
TitleContainer.Parent = TopBar

local Icon = Instance.new("ImageLabel")
Icon.Name = "Icon"
Icon.Size = UDim2.new(0, 24, 0, 24)
Icon.Position = UDim2.new(0, 0, 0.5, -12)
Icon.BackgroundTransparency = 1
Icon.Image = "rbxassetid://7072718362" -- Generic script icon
Icon.ImageColor3 = Color3.fromRGB(100, 150, 255)
Icon.Parent = TitleContainer

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, -30, 1, 0)
Title.Position = UDim2.new(0, 30, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "UNIVERSAL HUB"
Title.TextColor3 = Color3.fromRGB(220, 220, 255)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Parent = TitleContainer

-- Close button
local CloseButton = Instance.new("ImageButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 32, 0, 32)
CloseButton.Position = UDim2.new(1, -42, 0.5, -16)
CloseButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
CloseButton.Image = "rbxassetid://3926305904"
CloseButton.ImageRectOffset = Vector2.new(924, 724)
CloseButton.ImageRectSize = Vector2.new(36, 36)
CloseButton.ImageColor3 = Color3.fromRGB(220, 220, 220)
CloseButton.Parent = TopBar

local CloseButtonCorner = Instance.new("UICorner")
CloseButtonCorner.CornerRadius = UDim.new(0, 6)
CloseButtonCorner.Parent = CloseButton

CloseButton.MouseEnter:Connect(function()
    game:GetService("TweenService"):Create(CloseButton, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(255, 70, 70)}):Play()
end)

CloseButton.MouseLeave:Connect(function()
    game:GetService("TweenService"):Create(CloseButton, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(50, 50, 60)}):Play()
end)

CloseButton.MouseButton1Click:Connect(function()
    game:GetService("TweenService"):Create(MainFrame, TweenInfo.new(0.2), {Size = UDim2.new(0, 650, 0, 0)}):Play()
    wait(0.2)
    ScriptHub:Destroy()
end)

-- Sidebar for categories
local CategoriesFrame = Instance.new("Frame")
CategoriesFrame.Name = "CategoriesFrame"
CategoriesFrame.Size = UDim2.new(0, 160, 1, -45)
CategoriesFrame.Position = UDim2.new(0, 0, 0, 45)
CategoriesFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
CategoriesFrame.BorderSizePixel = 0
CategoriesFrame.Parent = MainFrame

-- Category list
local CategoryList = Instance.new("ScrollingFrame")
CategoryList.Name = "CategoryList"
CategoryList.Size = UDim2.new(1, 0, 1, -10)
CategoryList.Position = UDim2.new(0, 0, 0, 10)
CategoryList.BackgroundTransparency = 1
CategoryList.BorderSizePixel = 0
CategoryList.ScrollBarThickness = 4
CategoryList.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
CategoryList.Parent = CategoriesFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 8)
UIListLayout.Parent = CategoryList

-- Main content area
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -160, 1, -45)
ContentFrame.Position = UDim2.new(0, 160, 0, 45)
ContentFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
ContentFrame.BorderSizePixel = 0
ContentFrame.Parent = MainFrame

-- Scripts container
local ScriptsContainer = Instance.new("ScrollingFrame")
ScriptsContainer.Name = "ScriptsContainer"
ScriptsContainer.Size = UDim2.new(1, -20, 1, -20)
ScriptsContainer.Position = UDim2.new(0, 10, 0, 10)
ScriptsContainer.BackgroundTransparency = 1
ScriptsContainer.BorderSizePixel = 0
ScriptsContainer.ScrollBarThickness = 4
ScriptsContainer.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
ScriptsContainer.Parent = ContentFrame

local ScriptsListLayout = Instance.new("UIListLayout")
ScriptsListLayout.Padding = UDim.new(0, 15)
ScriptsListLayout.Parent = ScriptsContainer

-- Search bar
local SearchBar = Instance.new("TextBox")
SearchBar.Name = "SearchBar"
SearchBar.Size = UDim2.new(1, -20, 0, 35)
SearchBar.Position = UDim2.new(0, 10, 0, 10)
SearchBar.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
SearchBar.BorderSizePixel = 0
SearchBar.PlaceholderText = "Search scripts..."
SearchBar.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
SearchBar.Text = ""
SearchBar.TextColor3 = Color3.fromRGB(220, 220, 220)
SearchBar.Font = Enum.Font.Gotham
SearchBar.TextSize = 14
SearchBar.TextXAlignment = Enum.TextXAlignment.Left
SearchBar.Parent = ContentFrame

local SearchBarPadding = Instance.new("UIPadding")
SearchBarPadding.PaddingLeft = UDim.new(0, 10)
SearchBarPadding.PaddingRight = UDim.new(0, 10)
SearchBarPadding.Parent = SearchBar

local SearchBarCorner = Instance.new("UICorner")
SearchBarCorner.CornerRadius = UDim.new(0, 6)
SearchBarCorner.Parent = SearchBar

local SearchIcon = Instance.new("ImageLabel")
SearchIcon.Name = "SearchIcon"
SearchIcon.Size = UDim2.new(0, 20, 0, 20)
SearchIcon.Position = UDim2.new(1, -30, 0.5, -10)
SearchIcon.BackgroundTransparency = 1
SearchIcon.Image = "rbxassetid://3926305904"
SearchIcon.ImageRectOffset = Vector2.new(964, 324)
SearchIcon.ImageRectSize = Vector2.new(36, 36)
SearchIcon.ImageColor3 = Color3.fromRGB(150, 150, 150)
SearchIcon.Parent = SearchBar

-- Adjust scripts container to account for search bar
ScriptsContainer.Position = UDim2.new(0, 10, 0, 55)
ScriptsContainer.Size = UDim2.new(1, -20, 1, -65)

-- Script data - Updated with more legitimate and useful scripts
local Scripts = {
    {
        Name = "Infinite Yield",
        Category = "Admin",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()",
        Description = "Comprehensive admin command system with 200+ commands for moderation and fun",
        Icon = "rbxassetid://3926305904" -- Command icon
    },
    {
        Name = "Dark Dex",
        Category = "Developer",
        Loadstring = "loadstring(game:HttpGet('https://gist.githubusercontent.com/dannythehacker/1781582ab545302f2b34afc4ec53e811/raw/ee5324771f017073fc30e640323ac2a9b3bfc550/dark%2520dex%2520v4'))()",
        Description = "Advanced game explorer and decompiler for developers",
        Icon = "rbxassetid://3926307971" -- Code icon
    },
    {
        Name = "SimpleSpy",
        Category = "Developer",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/exxtremestuffs/SimpleSpySource/master/SimpleSpy.lua'))()",
        Description = "Remote event spy for debugging and reverse engineering",
        Icon = "rbxassetid://3926307971" -- Code icon
    },
    {
        Name = "CMD-X",
        Category = "Admin",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source'))()",
        Description = "Alternative admin command interface with unique features",
        Icon = "rbxassetid://3926305904" -- Command icon
    },
    {
        Name = "Hydroxide",
        Category = "Developer",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/Upbolt/Hydroxide/revision/UI.lua'))()",
        Description = "Powerful exploitation toolkit for advanced users",
        Icon = "rbxassetid://3926307971" -- Code icon
    },
    {
        Name = "Unnamed ESP",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/ic3w0lf22/Unnamed-ESP/master/UnnamedESP.lua',true))()",
        Description = "Feature-rich ESP with player highlighting and item tracking",
        Icon = "rbxassetid://3926307971" -- Eye icon
    },
    {
        Name = "Universal Aimbot",
        Category = "Combat",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/Exunys/AirHub/main/AirHub.lua',true))()",
        Description = "Precision aiming assistance for FPS games",
        Icon = "rbxassetid://3926307971" -- Target icon
    },
    {
        Name = "Vynixius Utilities",
        Category = "Combat",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RegularVynixu/Vynixius/main/Loader.lua'))()",
        Description = "Collection of combat utilities and quality-of-life improvements",
        Icon = "rbxassetid://3926307971" -- Sword icon
    },
    {
        Name = "RoGhoul Auto Farm",
        Category = "Game Specific",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/PorryDepTrai/exploit/main/DashBoostSolora.lua'))()",
        Description = "Automated farming script for RoGhoul with smart pathfinding",
        Icon = "rbxassetid://3926307971" -- Game icon
    },
    {
        Name = "Arsenal Enhancer",
        Category = "Game Specific",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/Insertl/QuotasHub/main/BETAv1.3'))()",
        Description = "Aimbot, ESP, and hitbox expansion for Arsenal",
        Icon = "rbxassetid://3926307971" -- Gun icon
    },
    {
        Name = "Forge Hub",
        Category = "Multi-Game",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/Skzuppy/forge-hub/main/loader.lua'))()",
        Description = "Feature-packed hub supporting 10+ popular games",
        Icon = "rbxassetid://3926307971" -- Hub icon
    },
    {
        Name = "FPS Booster",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/MuhXd/Roblox-mobile-script/main/FpsBooster.lua'))()",
        Description = "Optimizes game performance by reducing graphical quality",
        Icon = "rbxassetid://3926307971" -- Speed icon
    },
    {
        Name = "Chat Translator",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/JustEzpi/ROBLOX-Scripts/main/Universal/ChatTranslator.lua'))()",
        Description = "Real-time translation of chat messages between languages",
        Icon = "rbxassetid://3926307971" -- Language icon
    },
    {
        Name = "Auto Clicker",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/AutoClicker.lua'))()",
        Description = "Automates clicking tasks with customizable settings",
        Icon = "rbxassetid://3926307971" -- Click icon
    },
    {
        Name = "Item Notifier",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/ItemNotifier.lua'))()",
        Description = "Alerts you when specific items spawn in the game",
        Icon = "rbxassetid://3926307971" -- Alert icon
    },
    {
        Name = "Speed Hack",
        Category = "Movement",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/SpeedHack.lua'))()",
        Description = "Adjustable movement speed modifier",
        Icon = "rbxassetid://3926307971" -- Speed icon
    },
    {
        Name = "Jump Hack",
        Category = "Movement",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/JumpHack.lua'))()",
        Description = "Enhanced jumping ability with configurable height",
        Icon = "rbxassetid://3926307971" -- Jump icon
    },
    {
        Name = "Anti-AFK",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/AntiAFK.lua'))()",
        Description = "Prevents automatic disconnection from idle games",
        Icon = "rbxassetid://3926307971" -- Clock icon
    },
    {
        Name = "Camera Control",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/CameraControl.lua'))()",
        Description = "Advanced camera manipulation tools",
        Icon = "rbxassetid://3926307971" -- Camera icon
    },
    {
        Name = "Chat Logger",
        Category = "Utility",
        Loadstring = "loadstring(game:HttpGet('https://raw.githubusercontent.com/RobloxianRoblox/Scripts/master/ChatLogger.lua'))()",
        Description = "Records and saves all chat messages in the server",
        Icon = "rbxassetid://3926307971" -- Chat icon
    }
}

-- Get all unique categories
local categories = {}
for _, script in ipairs(Scripts) do
    if not table.find(categories, script.Category) then
        table.insert(categories, script.Category)
    end
end
table.sort(categories)

-- Create category buttons
for _, category in ipairs(categories) do
    local CategoryButton = Instance.new("TextButton")
    CategoryButton.Name = category
    CategoryButton.Size = UDim2.new(1, -20, 0, 40)
    CategoryButton.Position = UDim2.new(0, 10, 0, 0)
    CategoryButton.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    CategoryButton.Text = "  " .. category
    CategoryButton.TextColor3 = Color3.fromRGB(220, 220, 220)
    CategoryButton.Font = Enum.Font.GothamSemibold
    CategoryButton.TextSize = 14
    CategoryButton.TextXAlignment = Enum.TextXAlignment.Left
    CategoryButton.Parent = CategoryList

    local CategoryIcon = Instance.new("ImageLabel")
    CategoryIcon.Name = "CategoryIcon"
    CategoryIcon.Size = UDim2.new(0, 20, 0, 20)
    CategoryIcon.Position = UDim2.new(1, -30, 0.5, -10)
    CategoryIcon.BackgroundTransparency = 1
    CategoryIcon.Image = "rbxassetid://3926305904"
    CategoryIcon.ImageRectOffset = Vector2.new(964, 324)
    CategoryIcon.ImageRectSize = Vector2.new(36, 36)
    CategoryIcon.ImageColor3 = Color3.fromRGB(150, 150, 150)
    CategoryIcon.Parent = CategoryButton

    local UICorner3 = Instance.new("UICorner")
    UICorner3.CornerRadius = UDim.new(0, 6)
    UICorner3.Parent = CategoryButton

    -- Hover effects
    CategoryButton.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(CategoryButton, TweenInfo.new(0.15), {
            BackgroundColor3 = Color3.fromRGB(50, 50, 60),
            TextColor3 = Color3.fromRGB(255, 255, 255)
        }):Play()
    end)

    CategoryButton.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(CategoryButton, TweenInfo.new(0.15), {
            BackgroundColor3 = Color3.fromRGB(35, 35, 45),
            TextColor3 = Color3.fromRGB(220, 220, 220)
        }):Play()
    end)

    CategoryButton.MouseButton1Click:Connect(function()
        -- Clear current scripts
        for _, child in ipairs(ScriptsContainer:GetChildren()) do
            if child:IsA("Frame") then
                child:Destroy()
            end
        end

        -- Add scripts for selected category
        for _, script in ipairs(Scripts) do
            if script.Category == category then
                local ScriptFrame = Instance.new("Frame")
                ScriptFrame.Name = script.Name
                ScriptFrame.Size = UDim2.new(1, 0, 0, 110)
                ScriptFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
                ScriptFrame.Parent = ScriptsContainer

                local UICorner4 = Instance.new("UICorner")
                UICorner4.CornerRadius = UDim.new(0, 8)
                UICorner4.Parent = ScriptFrame

                local ScriptIcon = Instance.new("ImageLabel")
                ScriptIcon.Name = "ScriptIcon"
                ScriptIcon.Size = UDim2.new(0, 40, 0, 40)
                ScriptIcon.Position = UDim2.new(0, 15, 0, 15)
                ScriptIcon.BackgroundTransparency = 1
                ScriptIcon.Image = script.Icon or "rbxassetid://3926307971"
                ScriptIcon.ImageColor3 = Color3.fromRGB(100, 150, 255)
                ScriptIcon.Parent = ScriptFrame

                local NameLabel = Instance.new("TextLabel")
                NameLabel.Name = "NameLabel"
                NameLabel.Size = UDim2.new(0.7, -70, 0, 30)
                NameLabel.Position = UDim2.new(0, 70, 0, 15)
                NameLabel.BackgroundTransparency = 1
                NameLabel.Text = script.Name
                NameLabel.TextColor3 = Color3.fromRGB(240, 240, 255)
                NameLabel.TextXAlignment = Enum.TextXAlignment.Left
                NameLabel.Font = Enum.Font.GothamBold
                NameLabel.TextSize = 16
                NameLabel.Parent = ScriptFrame

                local DescLabel = Instance.new("TextLabel")
                DescLabel.Name = "DescLabel"
                DescLabel.Size = UDim2.new(1, -30, 0, 40)
                DescLabel.Position = UDim2.new(0, 15, 0, 55)
                DescLabel.BackgroundTransparency = 1
                DescLabel.Text = script.Description
                DescLabel.TextColor3 = Color3.fromRGB(180, 180, 200)
                DescLabel.TextXAlignment = Enum.TextXAlignment.Left
                DescLabel.TextYAlignment = Enum.TextYAlignment.Top
                DescLabel.Font = Enum.Font.Gotham
                DescLabel.TextSize = 12
                DescLabel.TextWrapped = true
                DescLabel.Parent = ScriptFrame

                local ExecuteButton = Instance.new("TextButton")
                ExecuteButton.Name = "ExecuteButton"
                ExecuteButton.Size = UDim2.new(0.25, -15, 0, 35)
                ExecuteButton.Position = UDim2.new(0.75, 5, 0, 15)
                ExecuteButton.BackgroundColor3 = Color3.fromRGB(60, 150, 60)
                ExecuteButton.Text = "EXECUTE"
                ExecuteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                ExecuteButton.Font = Enum.Font.GothamBold
                ExecuteButton.TextSize = 14
                ExecuteButton.Parent = ScriptFrame

                local UICorner5 = Instance.new("UICorner")
                UICorner5.CornerRadius = UDim.new(0, 6)
                UICorner5.Parent = ExecuteButton

                -- Button hover effects
                ExecuteButton.MouseEnter:Connect(function()
                    game:GetService("TweenService"):Create(ExecuteButton, TweenInfo.new(0.15), {
                        BackgroundColor3 = Color3.fromRGB(80, 180, 80)
                    }):Play()
                end)

                ExecuteButton.MouseLeave:Connect(function()
                    game:GetService("TweenService"):Create(ExecuteButton, TweenInfo.new(0.15), {
                        BackgroundColor3 = Color3.fromRGB(60, 150, 60)
                    }):Play()
                end)

                ExecuteButton.MouseButton1Click:Connect(function()
                    ExecuteButton.Text = "LOADING..."
                    game:GetService("TweenService"):Create(ExecuteButton, TweenInfo.new(0.15), {
                        BackgroundColor3 = Color3.fromRGB(100, 100, 255)
                    }):Play()
                    
                    if script.Loadstring ~= "0" then
                        pcall(function()
                            loadstring(script.Loadstring)()
                        end)
                    end
                    
                    wait(0.5)
                    ExecuteButton.Text = "EXECUTED!"
                    wait(1)
                    ExecuteButton.Text = "EXECUTE"
                    game:GetService("TweenService"):Create(ExecuteButton, TweenInfo.new(0.15), {
                        BackgroundColor3 = Color3.fromRGB(60, 150, 60)
                    }):Play()
                end)
            end
        end

        -- Update canvas size
        ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, ScriptsListLayout.AbsoluteContentSize.Y + 20)
    end)
end

-- Search functionality
SearchBar:GetPropertyChangedSignal("Text"):Connect(function()
    local searchText = string.lower(SearchBar.Text)
    
    for _, child in ipairs(ScriptsContainer:GetChildren()) do
        if child:IsA("Frame") then
            local scriptName = string.lower(child.Name)
            if string.find(scriptName, searchText, 1, true) or searchText == "" then
                child.Visible = true
            else
                child.Visible = false
            end
        end
    end
end)

-- Select first category by default
if #categories > 0 then
    CategoryList:FindFirstChild(categories[1]):Activate()
end

-- Update layout sizes
CategoryList.ChildAdded:Connect(function()
    CategoryList.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 10)
end)

ScriptsContainer.ChildAdded:Connect(function()
    ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, ScriptsListLayout.AbsoluteContentSize.Y + 20)
end)

-- Make draggable
local UserInputService = game:GetService("UserInputService")
local dragging = false
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(
        startPos.X.Scale,
        startPos.X.Offset + delta.X,
        startPos.Y.Scale,
        startPos.Y.Offset + delta.Y
    )
end

TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

TopBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        update(input)
    end
end)

-- Initial animation
MainFrame.Size = UDim2.new(0, 0, 0, 0)
game:GetService("TweenService"):Create(MainFrame, TweenInfo.new(0.3), {
    Size = UDim2.new(0, 650, 0, 450)
}):Play()
